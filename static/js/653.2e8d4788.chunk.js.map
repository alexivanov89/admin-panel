{"version":3,"file":"static/js/653.2e8d4788.chunk.js","mappings":"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","sources":["webpack://admin-panel/./src/components/UI/Table/Table.module.scss?71d0","components/UI/Table/Table.jsx","webpack://admin-panel/./src/components/ListEntities/ListEntities.module.scss?97d1","components/ListEntities/ListEntities.jsx","components/UI/Image/Image.jsx","webpack://admin-panel/./src/containers/ListPoints/ListPoints.module.scss?a56c","containers/ListPoints/ListPoints.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"table\":\"Table_table__y43+-\"};","import { Table as AntdTable } from 'antd';\r\nimport styles from './Table.module.scss';\r\n\r\nconst Table = (props) => {\r\n  return <AntdTable className={styles.table} {...props} />;\r\n};\r\n\r\nexport default Table;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"ListEntities_title__KL5RP\",\"card\":\"ListEntities_card__iz-Y6\",\"filterBtn\":\"ListEntities_filterBtn__tlSJs\",\"resetBtn\":\"ListEntities_resetBtn__qHB8e\"};","import { Button, Card, Col, Row, Space, Typography } from 'antd';\r\nimport { Table } from '../UI/Table';\r\nimport styles from './ListEntities.module.scss';\r\n\r\nconst ListCars = (props) => {\r\n  const { Title } = Typography;\r\n  const { title, filters, tableProps, onReset, onApply } = props;\r\n\r\n  return (\r\n    <>\r\n      <Title className={styles.title}>{title}</Title>\r\n      <Card\r\n        title={\r\n          <Row>\r\n            <Col xs={16} sm={17}>\r\n              <Space size={[15, 15]} wrap>\r\n                {filters}\r\n              </Space>\r\n            </Col>\r\n            <Col xs={8} sm={7} style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n              <Space size={[15, 15]} wrap>\r\n                <Button className={styles.resetBtn} onClick={onReset}>\r\n                  Сбросить\r\n                </Button>\r\n                <Button type=\"primary\" className={styles.filterBtn} onClick={onApply}>\r\n                  Применить\r\n                </Button>\r\n              </Space>\r\n            </Col>\r\n          </Row>\r\n        }\r\n        bordered={false}\r\n        className={styles.card}\r\n        bodyStyle={{ padding: '1px 0px 0px' }}\r\n      >\r\n        <Table {...tableProps} />\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ListCars;\r\n","import { useState } from 'react';\r\n\r\nconst Image = ({ fallback, src, alt, ...props }) => {\r\n  const [imgSrc, setImgSrc] = useState(src);\r\n  const onError = () => setImgSrc(fallback);\r\n  return <img src={imgSrc ? imgSrc : fallback} alt={alt} onError={onError} {...props} />;\r\n};\r\n\r\nexport default Image;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"carImage\":\"ListPoints_carImage__gzJoS\",\"select\":\"ListPoints_select__OoxZn\"};","import { useEffect, useState } from 'react';\nimport { Button, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ListEntities } from '../../components/ListEntities';\nimport { Image } from '../../components/UI/Image';\nimport NoFoto from '../../assets/img/noFoto.jpg';\nimport { DropdownIcon, NextIcon, PrevIcon } from '../../assets/icon';\nimport { fetchPointAsync } from '../../store/slices/tableSlice';\nimport styles from './ListPoints.module.scss';\n\nconst ListPoints = () => {\n  const { Option } = Select;\n  const dispatch = useDispatch();\n  const { point } = useSelector(({ table }) => table);\n  const { points, loading, count, fields } = point;\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(5);\n  const [isFilter, setIsFilter] = useState(false);\n  const [filter, setFilter] = useState('');\n  const [selectValue, setSelectValue] = useState(null);\n\n  const options = points.map(({ address, name, cityId, id }) => cityId?.name).filter(Boolean);\n\n  useEffect(() => {\n    dispatch(fetchPointAsync());\n  }, []);\n\n  const dataSource = points\n    .filter(({ address, name, cityId, id }) => {\n      if (isFilter && filter) {\n        return cityId?.name === filter;\n      }\n      return true;\n    })\n    .map((item) => ({ ...item, key: item.id }));\n\n  const columns = fields.map((field) => {\n    switch (field) {\n      case 'cityId':\n        return {\n          title: 'Город',\n          dataIndex: field,\n          key: field?.name,\n          render: (field) => <>{field?.name}</>,\n        };\n      case 'address':\n        return {\n          title: 'Адрес',\n          dataIndex: field,\n          key: field,\n        };\n\n      case 'name':\n        return {\n          title: 'Название пункта',\n          dataIndex: field,\n          key: field,\n        };\n\n      default:\n        return {\n          title: field,\n          dataIndex: field,\n          key: field,\n        };\n    }\n  });\n\n  const onChange = (page) => {\n    setPage(page);\n  };\n\n  const handleChange = (value) => {\n    setSelectValue(value);\n    setFilter(value);\n  };\n\n  const itemRender = (current, type, originalElement) => {\n    if (type === 'prev') {\n      return <Button icon={<PrevIcon />} />;\n    }\n    if (type === 'next') {\n      return <Button icon={<NextIcon />} />;\n    }\n    return originalElement;\n  };\n\n  const tableProps = {\n    pagination: {\n      position: ['bottomCenter'],\n      current: page,\n      pageSize: limit,\n      onChange: onChange,\n      itemRender: itemRender,\n      showSizeChanger: false,\n    },\n    showHeader: true,\n    columns: columns,\n    dataSource: dataSource,\n    loading: loading,\n    scroll: { x: 550 },\n  };\n\n  const title = 'Список пунктов';\n\n  const filters = (\n    <Select\n      showSearch\n      placeholder=\"Город\"\n      optionFilterProp=\"children\"\n      filterSort={(optionA, optionB) =>\n        optionA.children.toLowerCase().localeCompare(optionB.children.toLowerCase())\n      }\n      suffixIcon={<DropdownIcon />}\n      onChange={handleChange}\n      className={styles.select}\n      value={selectValue}\n    >\n      {options?.length > 0 &&\n        options.map((option) => (\n          <Option value={option} key={option}>\n            {option}\n          </Option>\n        ))}\n    </Select>\n  );\n\n  const onReset = () => {\n    setIsFilter(false);\n    setFilter('');\n    setSelectValue(null);\n  };\n  const onApply = () => {\n    setIsFilter(true);\n  };\n\n  return (\n    <ListEntities\n      title={title}\n      filters={filters}\n      tableProps={tableProps}\n      onReset={onReset}\n      onApply={onApply}\n    />\n  );\n};\n\nexport default ListPoints;\n"],"names":["props","className","styles","Title","Typography","title","filters","tableProps","onReset","onApply","xs","sm","size","wrap","style","display","justifyContent","onClick","type","bordered","bodyStyle","padding","fallback","src","alt","useState","imgSrc","setImgSrc","onError","Option","Select","dispatch","useDispatch","point","useSelector","table","points","loading","fields","count","page","setPage","limit","isFilter","setIsFilter","filter","setFilter","selectValue","setSelectValue","options","map","address","name","cityId","id","Boolean","useEffect","fetchPointAsync","dataSource","item","key","pagination","position","current","pageSize","onChange","itemRender","originalElement","icon","Ne","showSizeChanger","showHeader","columns","field","dataIndex","render","scroll","x","showSearch","placeholder","optionFilterProp","filterSort","optionA","optionB","children","toLowerCase","localeCompare","suffixIcon","value","length","option","ListEntities"],"sourceRoot":""}