{"version":3,"file":"static/js/16.d1cd4b6e.chunk.js","mappings":"0OACA,EAAwB,qB,SCMxB,EAJc,SAACA,GACb,OAAO,SAAC,KAAD,QAAWC,UAAWC,GAAkBF,KCHjD,EAAwB,4BAAxB,EAA2D,2BAA3D,EAAkG,gCAAlG,EAA6I,+BC+D7I,EA5DiB,SAACA,GAChB,IAAQG,EAAUC,EAAAA,EAAAA,MACVC,EAA4BL,EAA5BK,MAAOC,EAAqBN,EAArBM,KAAMC,EAAeP,EAAfO,WACbC,EAAgDF,EAAhDE,SAAUC,EAAsCH,EAAtCG,OAAQC,EAA8BJ,EAA9BI,QAASC,EAAqBL,EAArBK,QAASC,EAAYN,EAAZM,QAE5C,OACE,iCACE,SAACT,EAAD,CAAOF,UAAWC,EAAlB,SAAiCG,KACjC,SAAC,IAAD,CACEA,OACE,SAAC,IAAD,WACE,UAAC,IAAD,CACEQ,KAAK,UACLC,OAAO,SACPC,MAAO,CAAEC,MAAO,QAChBC,cAAe,CACbC,OAAQ,KACRC,IAAK,KACLC,KAAM,KACNC,YAAa,MAEfZ,OAAQA,EACRa,eAAgB,SAACC,EAAGC,GAClBhB,EAASgB,IAEXC,aAAa,WACbC,SAAUd,EAfZ,WAiBE,SAAC,IAAD,CAAKe,GAAI,GAAIC,GAAI,GAAjB,UACE,SAAC,IAAD,CAAOC,KAAM,CAAC,GAAI,IAAKC,MAAI,EAACf,MAAO,CAAEC,MAAO,QAA5C,SACGN,OAGL,SAAC,IAAD,CAAKiB,GAAI,EAAGC,GAAI,EAAGb,MAAO,CAAEgB,QAAS,OAAQC,eAAgB,YAA7D,UACE,UAAC,IAAD,CAAOH,KAAM,CAAC,GAAI,IAAKC,MAAI,EAA3B,WACE,SAAC,SAAD,CAAWf,MAAO,CAAEkB,OAAQ,GAA5B,UACE,SAAC,IAAD,CAAQhC,UAAWC,EAAiBgC,QAASvB,EAA7C,iEAIF,SAAC,SAAD,CAAWI,MAAO,CAAEkB,OAAQ,GAA5B,UACE,SAAC,IAAD,CAAQE,KAAK,UAAUC,SAAS,SAASnC,UAAWC,EAApD,gFASZmC,UAAU,EACVpC,UAAWC,EACXoC,UAAW,CAAEC,QAAS,eA5CxB,UA8CE,SAAC,GAAD,UAAWhC,W,mLCzDnB,EAAgE,0B,SC4IhE,EApIkB,WAChB,IAAQiC,EAAWC,EAAAA,EAAAA,OACbC,GAAWC,EAAAA,EAAAA,MACjB,GAGIC,EAAAA,EAAAA,KAAY,qBAAGC,SAFjBC,EADF,EACEA,KACYC,EAFd,EAEEC,SAAYD,UAENE,EAAkCH,EAAlCG,MAAOC,EAA2BJ,EAA3BI,QAAgBzC,GAAWqC,EAAlBK,MAAkBL,EAAXrC,QAC/B,GAAwB2C,EAAAA,EAAAA,UAAS,GAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAA0BF,EAAAA,EAAAA,UAAS,GAAnC,eAAOG,EAAP,KAEMC,GAFN,KAEqB,CACnB,CACE3C,KAAM,WACN4C,MAAO,QAIX,GAAgCL,EAAAA,EAAAA,UAASI,GAAzC,eAAOE,EAAP,KAAmBC,EAAnB,KAEMC,EAAUb,GAEhBc,EAAAA,EAAAA,YAAU,WACRnB,GAASoB,EAAAA,EAAAA,OACTpB,GAASqB,EAAAA,EAAAA,SACR,IAEH,IAAMC,EAAaf,EAAMgB,KAAI,SAACC,GAAD,eAAC,UAAeA,GAAhB,IAAsBC,IAAKD,EAAKE,QAEvDC,EAAU5D,EAAOwD,KAAI,SAACK,GAC1B,OAAQA,GACN,IAAK,QACH,MAAO,CACLjE,MAAO,2BACPkE,UAAWD,EACXH,IAAKG,EACLE,OAAQ,SAACF,GAAD,OAAYA,GAAQ,8BAAGA,IAAY,OAG/C,IAAK,aACH,MAAO,CACLjE,MAAO,0DACPkE,UAAWD,EACXH,IAAKG,EACLE,OAAQ,SAACF,GAAD,OAAYA,GAAQ,+CAAMA,QAAN,IAAMA,OAAN,EAAMA,EAAOzD,KAAb,oBAAsByD,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAOG,KAA7B,OAA2C,OAG3E,QACE,MAAO,CACLpE,MAAOiE,EACPC,UAAWD,EACXH,IAAKG,EACLE,OAAQ,SAACF,GAAD,OAAYA,GAAQ,8BAAGA,IAAY,WAmB7C5D,GACJ,SAAC,SAAD,CAAWG,KAAK,WAAWE,MAAO,CAAEkB,OAAQ,GAA5C,UACE,SAAC,IAAD,CACEyC,YAAU,EACVC,YAAY,0DACZC,iBAAiB,WACjBC,WAAY,SAACC,EAASC,GAAV,OACVD,EAAQE,SAASC,cAAcC,cAAcH,EAAQC,SAASC,gBAEhEE,YAAY,SAAC,IAAD,IACZlF,UAAWC,EARb,UAUU,OAAP0D,QAAO,IAAPA,OAAA,EAAAA,EAASwB,QAAS,GACjBxB,EAAQK,KAAI,SAACoB,GAAD,OACV,SAAC7C,EAAD,CAAQiB,MAAK,OAAE4B,QAAF,IAAEA,OAAF,EAAEA,EAAQjB,GAAvB,gBACGiB,QADH,IACGA,OADH,EACGA,EAAQxE,MADX,OAAgCwE,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAQjB,WAgBlD,OACE,SAACkB,EAAA,EAAD,CACEjF,MAAM,kFACNC,KAAM,CACJG,OAAQiD,EACRlD,SAAU,SAAC+E,GACT5B,EAAU4B,IAEZ7E,QAASA,EACTC,QAjBU,WACdgD,EAAUH,GACVd,GAASoB,EAAAA,EAAAA,QAgBLlD,QAdU,WACd8B,GAASoB,EAAAA,EAAAA,KAAe0B,EAAAA,EAAAA,GAAiB9B,OAevCnD,WAAY,CACVkF,WAAY,CACVC,SAAU,CAAC,gBACXC,QAAStC,EACTuC,SAAUrC,EACV/C,SA7DS,SAAC6C,GAChBC,EAAQD,IA6DFwC,WA1DW,SAACF,EAASxD,EAAM2D,GACjC,MAAa,SAAT3D,GACK,SAAC,IAAD,CAAQ4D,MAAM,SAAC,KAAD,MAEV,SAAT5D,GACK,SAAC,IAAD,CAAQ4D,MAAM,SAAC,EAAAC,GAAD,MAEhBF,GAoDDG,iBAAiB,GAEnBC,YAAY,EACZ7B,QAASA,EACTL,WAAYA,EACZd,QAASA,EACTiD,OAAQ,CAAEC,EAAG,U,qDCvId,IAAMZ,EAAmB,SAACa,GAC/B,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAQC,QAAO,SAACC,EAAKrC,GAC1B,OAAQA,EAAKrD,KAAK,IAChB,IAAK,OACH,OAAIqD,EAAKT,MACA8C,EAAG,cAAUrC,EAAKT,MAAf,KAEL8C,EAAM,GAEf,IAAK,OACH,OAAIrC,EAAKT,MACA8C,EAAG,qBAAiBrC,EAAKT,MAAtB,KAEL8C,EAAM,GAEf,IAAK,WACH,OAAIrC,EAAKT,MACA8C,EAAG,yBAAqBrC,EAAKT,MAA1B,KAEL8C,EAAM,GAEf,IAAK,UACH,OAAIrC,EAAKT,MACA8C,EAAG,eAAWrC,EAAKT,MAAhB,KAEL8C,EAAM,GAEf,IAAK,WACH,OAAIrC,EAAKT,MACA8C,EAAG,kBAAcrC,EAAKT,MAAnB,KAEL8C,EAAM,GAEf,IAAK,WACH,OAAIrC,EAAKT,MACA8C,EAAG,yBAAqBrC,EAAKT,OAE/B8C,EAAM,GAEf,QACE,OAAIrC,EAAKT,MACA8C,EAAG,UAAMrC,EAAKrD,KAAX,YAAmBqD,EAAKT,MAAxB,KAEL8C,EAAM,MA1CZ","sources":["webpack://admin-panel/./src/components/UI/Table/Table.module.scss?71d0","components/UI/Table/Table.jsx","webpack://admin-panel/./src/components/ListEntities/ListEntities.module.scss?97d1","components/ListEntities/ListEntities.jsx","webpack://admin-panel/./src/containers/ListRates/ListRates.module.scss?3980","containers/ListRates/ListRates.jsx","utils/getRequestParams.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"table\":\"Table_table__y43+-\"};","import { Table as AntdTable } from 'antd';\r\nimport styles from './Table.module.scss';\r\n\r\nconst Table = (props) => {\r\n  return <AntdTable className={styles.table} {...props} />;\r\n};\r\n\r\nexport default Table;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"ListEntities_title__KL5RP\",\"card\":\"ListEntities_card__iz-Y6\",\"filterBtn\":\"ListEntities_filterBtn__tlSJs\",\"resetBtn\":\"ListEntities_resetBtn__qHB8e\"};","import { Button, Card, Col, Form, Row, Space, Typography } from 'antd';\nimport { Table } from '../UI/Table';\nimport styles from './ListEntities.module.scss';\n\nconst ListCars = (props) => {\n  const { Title } = Typography;\n  const { title, form, tableProps } = props;\n  const { onChange, fields, filters, onReset, onApply } = form;\n\n  return (\n    <>\n      <Title className={styles.title}>{title}</Title>\n      <Card\n        title={\n          <Row>\n            <Form\n              name=\"filters\"\n              layout=\"inline\"\n              style={{ width: '100%' }}\n              initialValues={{\n                period: null,\n                car: null,\n                city: null,\n                orderStatus: null,\n              }}\n              fields={fields}\n              onFieldsChange={(_, allFields) => {\n                onChange(allFields);\n              }}\n              requiredMark=\"optional\"\n              onFinish={onApply}\n            >\n              <Col xs={16} sm={17}>\n                <Space size={[15, 15]} wrap style={{ width: '100%' }}>\n                  {filters}\n                </Space>\n              </Col>\n              <Col xs={8} sm={7} style={{ display: 'flex', justifyContent: 'flex-end' }}>\n                <Space size={[15, 15]} wrap>\n                  <Form.Item style={{ margin: 0 }}>\n                    <Button className={styles.resetBtn} onClick={onReset}>\n                      Сбросить\n                    </Button>\n                  </Form.Item>\n                  <Form.Item style={{ margin: 0 }}>\n                    <Button type=\"primary\" htmlType=\"submit\" className={styles.filterBtn}>\n                      Применить\n                    </Button>\n                  </Form.Item>\n                </Space>\n              </Col>\n            </Form>\n          </Row>\n        }\n        bordered={false}\n        className={styles.card}\n        bodyStyle={{ padding: '1px 0px 0px' }}\n      >\n        <Table {...tableProps} />\n      </Card>\n    </>\n  );\n};\n\nexport default ListCars;\n","// extracted by mini-css-extract-plugin\nexport default {\"carImage\":\"ListRates_carImage__KF7bS\",\"select\":\"ListRates_select__9mJl5\"};","import { useEffect, useState } from 'react';\nimport { Button, Form, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { ListEntities } from '../../components/ListEntities';\nimport { DropdownIcon, NextIcon, PrevIcon } from '../../assets/icon';\nimport { fetchPointAsync, fetchRateAsync, fetchRateTypeAsync } from '../../store/slices/tableSlice';\nimport { getRequestParams } from '../../utils/getRequestParams';\nimport styles from './ListRates.module.scss';\n\nconst ListRates = () => {\n  const { Option } = Select;\n  const dispatch = useDispatch();\n  const {\n    rate,\n    rateType: { rateTypes },\n  } = useSelector(({ table }) => table);\n  const { rates, loading, count, fields } = rate;\n  const [page, setPage] = useState(1);\n  const [limit, setLimit] = useState(5);\n\n  const initialState = [\n    {\n      name: 'rateType',\n      value: null,\n    },\n  ];\n\n  const [fieldsForm, setFields] = useState(initialState);\n\n  const options = rateTypes;\n\n  useEffect(() => {\n    dispatch(fetchRateAsync());\n    dispatch(fetchRateTypeAsync());\n  }, []);\n\n  const dataSource = rates.map((item) => ({ ...item, key: item.id }));\n\n  const columns = fields.map((field) => {\n    switch (field) {\n      case 'price':\n        return {\n          title: 'Цена',\n          dataIndex: field,\n          key: field,\n          render: (field) => (field ? <>{field}</> : null),\n        };\n\n      case 'rateTypeId':\n        return {\n          title: 'Тип тарифа',\n          dataIndex: field,\n          key: field,\n          render: (field) => (field ? <>{`${field?.name} (${field?.unit})`}</> : null),\n        };\n\n      default:\n        return {\n          title: field,\n          dataIndex: field,\n          key: field,\n          render: (field) => (field ? <>{field}</> : null),\n        };\n    }\n  });\n\n  const onChange = (page) => {\n    setPage(page);\n  };\n\n  const itemRender = (current, type, originalElement) => {\n    if (type === 'prev') {\n      return <Button icon={<PrevIcon />} />;\n    }\n    if (type === 'next') {\n      return <Button icon={<NextIcon />} />;\n    }\n    return originalElement;\n  };\n\n  const filters = (\n    <Form.Item name=\"rateType\" style={{ margin: 0 }}>\n      <Select\n        showSearch\n        placeholder=\"Тип тарифа\"\n        optionFilterProp=\"children\"\n        filterSort={(optionA, optionB) =>\n          optionA.children.toLowerCase().localeCompare(optionB.children.toLowerCase())\n        }\n        suffixIcon={<DropdownIcon />}\n        className={styles.select}\n      >\n        {options?.length > 0 &&\n          options.map((option) => (\n            <Option value={option?.id} key={option?.id}>\n              {option?.name}\n            </Option>\n          ))}\n      </Select>\n    </Form.Item>\n  );\n\n  const onReset = () => {\n    setFields(initialState);\n    dispatch(fetchRateAsync());\n  };\n  const onApply = () => {\n    dispatch(fetchRateAsync(getRequestParams(fieldsForm)));\n  };\n\n  return (\n    <ListEntities\n      title=\"Список тарифов\"\n      form={{\n        fields: fieldsForm,\n        onChange: (newFields) => {\n          setFields(newFields);\n        },\n        filters: filters,\n        onReset: onReset,\n        onApply: onApply,\n      }}\n      tableProps={{\n        pagination: {\n          position: ['bottomCenter'],\n          current: page,\n          pageSize: limit,\n          onChange: onChange,\n          itemRender: itemRender,\n          showSizeChanger: false,\n        },\n        showHeader: true,\n        columns: columns,\n        dataSource: dataSource,\n        loading: loading,\n        scroll: { x: 550 },\n      }}\n    />\n  );\n};\n\nexport default ListRates;\n","export const getRequestParams = (params) => {\n  return params?.reduce((sum, item) => {\n    switch (item.name[0]) {\n      case 'tank':\n        if (item.value) {\n          return sum + `tank${item.value}&`;\n        }\n        return sum + '';\n\n      case 'city':\n        if (item.value) {\n          return sum + `cityId[id]=${item.value}&`;\n        }\n        return sum + '';\n\n      case 'category':\n        if (item.value) {\n          return sum + `categoryId[id]=${item.value}&`;\n        }\n        return sum + '';\n\n      case 'nameCar':\n        if (item.value) {\n          return sum + `name=${item.value}&`;\n        }\n        return sum + '';\n\n      case 'priceMin':\n        if (item.value) {\n          return sum + `priceMin${item.value}&`;\n        }\n        return sum + '';\n\n      case 'rateType':\n        if (item.value) {\n          return sum + `rateTypeId[id]=${item.value}`;\n        }\n        return sum + '';\n\n      default:\n        if (item.value) {\n          return sum + `${item.name}=${item.value}&`;\n        }\n        return sum + '';\n    }\n  }, `?`);\n};\n"],"names":["props","className","styles","Title","Typography","title","form","tableProps","onChange","fields","filters","onReset","onApply","name","layout","style","width","initialValues","period","car","city","orderStatus","onFieldsChange","_","allFields","requiredMark","onFinish","xs","sm","size","wrap","display","justifyContent","margin","onClick","type","htmlType","bordered","bodyStyle","padding","Option","Select","dispatch","useDispatch","useSelector","table","rate","rateTypes","rateType","rates","loading","count","useState","page","setPage","limit","initialState","value","fieldsForm","setFields","options","useEffect","fetchRateAsync","fetchRateTypeAsync","dataSource","map","item","key","id","columns","field","dataIndex","render","unit","showSearch","placeholder","optionFilterProp","filterSort","optionA","optionB","children","toLowerCase","localeCompare","suffixIcon","length","option","ListEntities","newFields","getRequestParams","pagination","position","current","pageSize","itemRender","originalElement","icon","Ne","showSizeChanger","showHeader","scroll","x","params","reduce","sum"],"sourceRoot":""}