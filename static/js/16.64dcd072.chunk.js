"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[16],{5213:function(e,n,t){t.d(n,{y:function(){return L}});var r=t(1413),a=t(5485),i=t(4564),l=t(6106),c=t(570),o=t(914),s=t(3099),u=t(3433),d=t(5861),x=t(9439),f=t(5987),p=t(7757),m=t.n(p),h=t(8243),v=t(9389),Z=t(6038),y=t(6440),j=t(2791),g="EditableTable_table__66N+3",k="EditableTable_editableRow__XinJa",b=t(184),_=["editing","dataIndex","title","inputType","record","index","children"],C=["dataSource","columns"],I=function(e){var n=e.editing,t=e.dataIndex,a=e.title,i=e.inputType,l=(e.record,e.index,e.children),o=(0,f.Z)(e,_),s="number"===i?(0,b.jsx)(h.Z,{}):(0,b.jsx)(v.Z,{});return(0,b.jsx)("td",(0,r.Z)((0,r.Z)({},o),{},{children:n?(0,b.jsx)(c.Z.Item,{name:t,style:{margin:0},rules:[{required:!0,message:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 ".concat(a,"!")}],children:s}):l}))},w=function(e){var n=e.dataSource,t=e.columns,i=(0,f.Z)(e,C),l=c.Z.useForm(),o=(0,x.Z)(l,1)[0],s=(0,j.useState)(n),p=(0,x.Z)(s,2),h=(p[0],p[1],(0,j.useState)("")),v=(0,x.Z)(h,2),_=v[0],w=v[1],S=function(e){return e.key===_},T=function(){w("")},L=function(){var e=(0,d.Z)(m().mark((function e(n){var t;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.validateFields();case 3:t=e.sent,console.log("row:",t),console.log("key:",n),w(""),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(n){return e.apply(this,arguments)}}(),F=function(){var e=(0,d.Z)(m().mark((function e(n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=[].concat((0,u.Z)(t),[{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",dataIndex:"operation1",width:"150px",render:function(e,n){return S(n)?(0,b.jsxs)("span",{children:[(0,b.jsx)(a.Z.Link,{onClick:function(){return L(n.key)},style:{marginRight:8,color:"#818ea3"},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,b.jsx)(Z.Z,{title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c?",onConfirm:T,cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,b.jsx)("a",{children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]}):(0,b.jsx)(a.Z.Link,{disabled:""!==_,onClick:function(){return function(e){o.setFieldsValue((0,r.Z)({name:""},e)),w(e.key)}(n)},style:{color:"#818ea3"},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}},{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",dataIndex:"operation2",render:function(e,n){return(0,b.jsx)(Z.Z,{title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0423\u0434\u0430\u043b\u0438\u0442\u044c?",onConfirm:function(){return F(n.key)},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,b.jsx)("a",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})}}]).map((function(e){return e.editable?(0,r.Z)((0,r.Z)({},e),{},{onCell:function(n){return{record:n,inputType:"age"===e.dataIndex?"number":"text",dataIndex:e.dataIndex,title:e.title,editing:S(n)}}}):e}));return console.log("mergedColumns:",N),(0,b.jsx)(c.Z,{form:o,component:!1,children:(0,b.jsx)(y.Z,(0,r.Z)({className:g,components:{body:{cell:I}},dataSource:n,columns:N,rowClassName:k},i))})},S="ListEntities_title__KL5RP",T="ListEntities_card__iz-Y6",L=function(e){var n=a.Z.Title,t=e.title,u=e.form,d=e.tableProps,x=u.onChange,f=u.fields,p=u.filters,m=u.buttons;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n,{className:S,children:t}),(0,b.jsx)(i.Z,{title:(0,b.jsx)(l.Z,{children:(0,b.jsxs)(c.Z,{name:"filters",layout:"inline",style:{width:"100%"},fields:f,onFieldsChange:function(e,n){x(n)},requiredMark:"optional",children:[(0,b.jsx)(o.Z,{xs:12,sm:14,children:(0,b.jsx)(s.Z,{size:[15,15],wrap:!0,style:{width:"100%"},children:p})}),(0,b.jsx)(o.Z,{xs:12,sm:10,style:{display:"flex",justifyContent:"flex-end"},children:(0,b.jsx)(s.Z,{size:[15,15],wrap:!0,children:m})})]})}),bordered:!1,className:T,bodyStyle:{padding:"1px 0px 0px"},children:(0,b.jsx)(w,(0,r.Z)({},d))})]})}},9016:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var r=t(1413),a=t(9439),i=t(2791),l=t(3734),c=t(7309),o=t(570),s=t(6030),u=t(5213),d=t(2784),x=t(1822),f=t(6623),p="ListRates_select__9mJl5",m="ListRates_addBtn__P5IpS",h="ListRates_filterBtn__1EmJg",v="ListRates_resetBtn__LJYkW",Z=t(184),y=function(){var e=l.Z.Option,n=(0,s.I0)(),t=(0,s.v9)((function(e){return e.table})),y=t.rate,j=t.rateType.rateTypes,g=y.rates,k=y.loading,b=(y.count,y.fields),_=(0,i.useState)(1),C=(0,a.Z)(_,2),I=C[0],w=C[1],S=(0,i.useState)(5),T=(0,a.Z)(S,2),L=T[0],F=(T[1],[{name:["rateType"],value:null}]),N=(0,i.useState)(F),R=(0,a.Z)(N,2),E=R[0],z=R[1],P=j;(0,i.useEffect)((function(){n((0,x.nl)()),n((0,x.Wm)())}),[]);var J=g.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{key:e.id})})),B=b.map((function(e){switch(e){case"price":return{title:"\u0426\u0435\u043d\u0430",dataIndex:e,key:e,editable:!0,width:"150px",render:function(e){return e?(0,Z.jsx)(Z.Fragment,{children:e}):null}};case"rateTypeId":return{title:"\u0422\u0438\u043f \u0442\u0430\u0440\u0438\u0444\u0430",dataIndex:e,key:e,editable:!0,width:"150px",render:function(e){return e?(0,Z.jsx)(Z.Fragment,{children:"".concat(null===e||void 0===e?void 0:e.name," (").concat(null===e||void 0===e?void 0:e.unit,")")}):null}};default:return{title:e,dataIndex:e,key:e,render:function(e){return e?(0,Z.jsx)(Z.Fragment,{children:e}):null}}}})),M=(0,Z.jsx)(o.Z.Item,{name:"rateType",style:{margin:"0px 0px 0px 2px"},children:(0,Z.jsx)(l.Z,{showSearch:!0,placeholder:"\u0422\u0438\u043f \u0442\u0430\u0440\u0438\u0444\u0430",optionFilterProp:"children",filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,Z.jsx)(d.K,{}),className:p,children:(null===P||void 0===P?void 0:P.length)>0&&P.map((function(n){return(0,Z.jsx)(e,{value:null===n||void 0===n?void 0:n.id,children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))})}),Y=(0,i.useCallback)((function(){z(F),n((0,x.nl)())}),[]),q=(0,i.useCallback)((function(){n((0,x.nl)((0,f.j)(E)))}),[E]),K=(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(o.Z.Item,{style:{margin:0},children:(0,Z.jsx)(c.Z,{className:m,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"})}),(0,Z.jsx)(o.Z.Item,{style:{margin:0},children:(0,Z.jsx)(c.Z,{className:v,onClick:Y,children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})}),(0,Z.jsx)(o.Z.Item,{style:{margin:0},children:(0,Z.jsx)(c.Z,{type:"primary",htmlType:"submit",className:h,onClick:q,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})]});return(0,Z.jsx)(u.y,{title:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0430\u0440\u0438\u0444\u043e\u0432",form:{fields:E,onChange:function(e){z(e)},filters:M,buttons:K},tableProps:{pagination:{position:["bottomCenter"],current:I,pageSize:L,onChange:function(e){w(e)},itemRender:function(e,n,t){return"prev"===n?(0,Z.jsx)(c.Z,{icon:(0,Z.jsx)(d.gY,{})}):"next"===n?(0,Z.jsx)(c.Z,{icon:(0,Z.jsx)(d.Ne,{})}):t},showSizeChanger:!1},showHeader:!0,columns:B,dataSource:J,loading:k,scroll:{x:550}}})}},6623:function(e,n,t){t.d(n,{j:function(){return r}});var r=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t;switch(n.name[0]){case"tank":return n.value?e+"tank".concat(n.value,"&"):e+"";case"city":return n.value?e+"cityId[id]=".concat(n.value,"&"):e+"";case"category":return n.value?e+"categoryId[id]=".concat(n.value,"&"):e+"";case"period":var r;return null!==n&&void 0!==n&&null!==(t=n.value)&&void 0!==t&&t.value?e+"createdAt[$gt]=".concat(null===n||void 0===n||null===(r=n.value)||void 0===r?void 0:r.value,"&"):e+"";case"nameCar":return n.value?e+"name=".concat(n.value,"&"):e+"";case"car":return n.value?e+"carId[id]=".concat(n.value,"&"):e+"";case"orderStatus":return n.value?e+"orderStatusId[id]=".concat(n.value,"&"):e+"";case"priceMin":return n.value?e+"priceMin".concat(n.value,"&"):e+"";case"rateType":return n.value?e+"rateTypeId[id]=".concat(n.value):e+"";default:return n.value?e+"".concat(n.name,"=").concat(n.value,"&"):e+""}}),"?")}}}]);
//# sourceMappingURL=16.64dcd072.chunk.js.map