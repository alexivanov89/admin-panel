"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[139],{7154:function(e,l,n){n.d(l,{E:function(){return c}});var r=n(1413),i=n(9439),a=n(5987),t=n(2791),d=n(184),o=["fallback","src","alt"],c=function(e){var l=e.fallback,n=e.src,c=e.alt,s=(0,a.Z)(e,o),u=(0,t.useState)(n),v=(0,i.Z)(u,2),h=v[0],m=v[1];return(0,d.jsx)("img",(0,r.Z)({src:h||l,alt:c,onError:function(){return m(l)}},s))}},2139:function(e,l,n){n.r(l),n.d(l,{default:function(){return k}});var r=n(4942),i=n(5987),a=n(9439),t=n(5485),d=n(1358),o=n(3734),c=n(4564),s=n(6106),u=n(570),v=n(914),h=n(3099),m=n(7679),x=n(2791),f=n(6030),p=n(2784),j=n(1822),_=n(8181),y=n(1694),g=n.n(y),I=n(7154),Z=n(9538),w=n(5369),C=n(6623),O={title:"Orders_title__KZnAn",card:"Orders_card__Tua8Q",table:"Orders_table__FhFSq",carImage:"Orders_carImage__Z9aAh",carName:"Orders_carName__6qlsx",city:"Orders_city__ApXE-",color:"Orders_color__5D+8J",pointAddress:"Orders_pointAddress__x3BHD",info:"Orders_info__1TSsf",dates:"Orders_dates__15UkH",price:"Orders_price__5Anw-",orderActions:"Orders_orderActions__Lf1ya",apply:"Orders_apply__VcYJy",delete:"Orders_delete__LM0kF",change:"Orders_change__sSAl9",orderOptions:"Orders_orderOptions__Mgh5T",label:"Orders_label__wzZ9h",active:"Orders_active__juWOH",select:"Orders_select__t7UAa",filterBtn:"Orders_filterBtn__y7v68"},N=n(184),b=["name","id"],S=["name","id"],k=function(){var e=t.Z.Title,l=t.Z.Text,n=d.Z.Group,y=o.Z.Option,k=(0,f.I0)(),T=(0,f.v9)((function(e){return e.table})),A=T.order,F=T.city.cities,L=T.car.cars,M=T.orderStatus.values,D=A.orders,B=A.loading,E=(A.error,(0,x.useState)(1)),P=(0,a.Z)(E,2),z=P[0],K=P[1],H=(new Date).getTime()-864e5,R=(new Date).getTime()-6048e5,W=(new Date).getTime()-2592e6,q=(new Date).getTime()-31536e6,J=F,X=Array.from(new Set(L.filter((function(e){var l=e.name;e.id,(0,i.Z)(e,b);return Boolean(l)})).map((function(e){var l=e.name,n=e.id;(0,i.Z)(e,S);return{name:l,id:n}})))),Y=M,U=[{name:["period"],value:{label:"\u0417\u0430 \u0434\u0435\u043d\u044c",value:H}},{name:["car"],value:null},{name:["city"],value:null},{name:["orderStatus"],value:null}],V=(0,x.useState)(U),$=(0,a.Z)(V,2),G=$[0],Q=$[1],ee=D.map((function(e){var l,n=e.carId,r=e.cityId,i=e.color,a=e.dateFrom,t=e.dateTo,d=(e.pointId,e.price),o=(e.orderStatusId,e.isFullTank),c=e.isNeedChildChair,s=e.isRightWheel;return{key:e.id,carImg:{src:n?null===n||void 0===n||null===(l=n.thumbnail)||void 0===l?void 0:l.path:null,name:n?null===n||void 0===n?void 0:n.name:null},orderInfo:{carId:n,cityId:r,dateFrom:a?(0,_.Z)(new Date(a),"dd.MM.yyyy k:mm"):null,dateTo:t?(0,_.Z)(new Date(t),"dd.MM.yyyy k:mm"):null,color:i},orderOptions:{isFullTank:o,isRightWheel:s,isNeedChildChair:c},price:d,orderActions:{apply:"\u0433\u043e\u0442\u043e\u0432\u043e",delete:"\u043e\u0442\u043c\u0435\u043d\u0430",change:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}}})),le=[{title:"Car",dataIndex:"carImg",key:"carImg",render:function(e){return(0,N.jsx)("div",{className:O.carImage,children:(0,N.jsx)(I.E,{src:e.src,alt:e.name,fallback:Z,loading:"lazy"})})}},{title:"Order Info",dataIndex:"orderInfo",key:"orderInfo",render:function(e){var n,r,i;return(0,N.jsxs)("div",{className:O.orderInfo,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)(l,{className:O.carName,children:null!==e&&void 0!==e&&e.carId?"".concat(null===e||void 0===e||null===(n=e.carId)||void 0===n?void 0:n.name):null}),(0,N.jsx)(l,{className:O.info,children:" \u0432 "}),(0,N.jsx)(l,{className:O.city,children:null!==e&&void 0!==e&&e.cityId?"".concat(null===e||void 0===e||null===(r=e.cityId)||void 0===r?void 0:r.name,", "):null}),(0,N.jsx)(l,{className:O.pointAddress,children:null!==e&&void 0!==e&&e.pointId?"".concat(null===e||void 0===e||null===(i=e.pointId)||void 0===i?void 0:i.address):null})]}),(0,N.jsx)(l,{className:O.dates,children:null!==e&&void 0!==e&&e.dateFrom?"".concat(null===e||void 0===e?void 0:e.dateFrom," "):null}),(0,N.jsx)(l,{className:O.info,children:"\u2014"}),(0,N.jsx)(l,{className:O.dates,children:null!==e&&void 0!==e&&e.dateTo?" ".concat(null===e||void 0===e?void 0:e.dateTo):null}),(0,N.jsxs)("div",{children:[(0,N.jsx)(l,{className:O.info,children:"\u0426\u0432\u0435\u0442: "}),(0,N.jsx)(l,{className:O.color,children:null!==e&&void 0!==e&&e.color?"".concat(null===e||void 0===e?void 0:e.color):null})]})]})}},{title:"Order Options",dataIndex:"orderOptions",key:"orderOptions",render:function(e){return(0,N.jsxs)("div",{className:O.orderOptions,children:[(0,N.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isFullTank?(0,N.jsx)(p.tj,{}):(0,N.jsx)(p.ms,{}),(0,N.jsx)(l,{className:g()(O.label,(0,r.Z)({},O.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"})]}),(0,N.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isNeedChildChair?(0,N.jsx)(p.tj,{}):(0,N.jsx)(p.ms,{}),(0,N.jsx)(l,{className:g()(O.label,(0,r.Z)({},O.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"})]}),(0,N.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isRightWheel?(0,N.jsx)(p.tj,{}):(0,N.jsx)(p.ms,{}),(0,N.jsx)(l,{className:g()(O.label,(0,r.Z)({},O.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"})]})]})}},{title:"Price",dataIndex:"price",key:"price",render:function(e){return(0,N.jsx)("div",{className:O.price,children:"".concat((0,w._)(e)," \u20bd")})}},{title:"Order Actions",dataIndex:"orderActions",key:"orderActions",render:function(e){return(0,N.jsx)("div",{className:O.orderActions,children:(0,N.jsxs)(n,{children:[(0,N.jsx)(d.Z,{icon:(0,N.jsx)(p.bJ,{}),className:O.apply,children:null===e||void 0===e?void 0:e.apply}),(0,N.jsx)(d.Z,{icon:(0,N.jsx)(p.Tw,{}),className:O.delete,children:null===e||void 0===e?void 0:e.delete}),(0,N.jsx)(d.Z,{icon:(0,N.jsx)(p.dY,{}),className:O.change,children:null===e||void 0===e?void 0:e.change})]})})}}];(0,x.useEffect)((function(){k((0,j.X6)("?createdAt[$gt]=".concat(H)))}),[]),(0,x.useEffect)((function(){k((0,j.LC)()),k((0,j.jo)()),k((0,j.LS)())}),[]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(e,{className:O.title,children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),(0,N.jsx)(c.Z,{title:(0,N.jsx)(s.Z,{children:(0,N.jsxs)(u.Z,{name:"filters",layout:"inline",style:{width:"100%"},fields:G,onFieldsChange:function(e,l){Q(l)},requiredMark:"optional",onFinish:function(e){k((0,j.X6)((0,C.j)(G)))},children:[(0,N.jsx)(v.Z,{xs:18,sm:20,children:(0,N.jsxs)(h.Z,{size:[15,15],wrap:!0,style:{width:"100%"},children:[(0,N.jsx)(u.Z.Item,{name:"period",style:{margin:0},children:(0,N.jsxs)(o.Z,{showSearch:!0,placeholder:"\u041f\u0435\u0440\u0438\u043e\u0434",optionFilterProp:"children",filterSort:function(e,l){return e.children.toLowerCase().localeCompare(l.children.toLowerCase())},suffixIcon:(0,N.jsx)(p.K,{}),className:O.select,optionLabelProp:"label",labelInValue:!0,allowClear:!0,children:[(0,N.jsx)(y,{value:H,label:"\u0417\u0430 \u0434\u0435\u043d\u044c",children:"\u0417\u0430 \u0434\u0435\u043d\u044c"}),(0,N.jsx)(y,{value:R,label:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",children:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"}),(0,N.jsx)(y,{value:W,label:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446",children:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446"}),(0,N.jsx)(y,{value:q,label:"\u0417\u0430 \u0433\u043e\u0434",children:"\u0417\u0430 \u0433\u043e\u0434"}),(0,N.jsx)(y,{value:null,label:"\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f",children:"\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f"})]})}),(0,N.jsx)(u.Z.Item,{name:"car",style:{margin:0},children:(0,N.jsx)(o.Z,{showSearch:!0,placeholder:"\u0410\u0432\u0442\u043e",optionFilterProp:"children",filterOption:function(e,l){return l.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,l){return e.children.toLowerCase().localeCompare(l.children.toLowerCase())},suffixIcon:(0,N.jsx)(p.K,{}),className:O.select,allowClear:!0,children:(null===X||void 0===X?void 0:X.length)>0&&X.map((function(e){return(0,N.jsx)(y,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}),(0,N.jsx)(u.Z.Item,{name:"city",style:{margin:0},children:(0,N.jsx)(o.Z,{showSearch:!0,placeholder:"\u0413\u043e\u0440\u043e\u0434",optionFilterProp:"children",filterOption:function(e,l){return l.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,l){return e.children.toLowerCase().localeCompare(l.children.toLowerCase())},suffixIcon:(0,N.jsx)(p.K,{}),className:O.select,allowClear:!0,children:(null===J||void 0===J?void 0:J.length)>0&&J.map((function(e){return(0,N.jsx)(y,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}),(0,N.jsx)(u.Z.Item,{name:"orderStatus",style:{margin:0},children:(0,N.jsx)(o.Z,{showSearch:!0,placeholder:"\u0421\u0442\u0430\u0442\u0443\u0441",optionFilterProp:"children",filterOption:function(e,l){return l.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,l){return e.children.toLowerCase().localeCompare(l.children.toLowerCase())},suffixIcon:(0,N.jsx)(p.K,{}),className:O.select,allowClear:!0,children:(null===Y||void 0===Y?void 0:Y.length)>0&&Y.map((function(e){return(0,N.jsx)(y,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})})]})}),(0,N.jsx)(v.Z,{xs:6,sm:4,style:{display:"flex",justifyContent:"flex-end"},children:(0,N.jsx)(u.Z.Item,{children:(0,N.jsx)(d.Z,{type:"primary",htmlType:"submit",className:O.filterBtn,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})})]})}),bordered:!1,className:O.card,bodyStyle:{padding:"1px 0px 0px"},children:(0,N.jsx)(m.Z,{showHeader:!1,columns:le,dataSource:ee,pagination:{position:["bottomCenter"],current:z,pageSize:1,showSizeChanger:!1,onChange:function(e){K(e)},itemRender:function(e,l,n){return"prev"===l?(0,N.jsx)(d.Z,{icon:(0,N.jsx)(p.gY,{})}):"next"===l?(0,N.jsx)(d.Z,{icon:(0,N.jsx)(p.Ne,{})}):n}},loading:B,scroll:{x:980},className:O.table})})]})}},6623:function(e,l,n){n.d(l,{j:function(){return r}});var r=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,l){var n;switch(l.name[0]){case"tank":return l.value?e+"tank".concat(l.value,"&"):e+"";case"city":return l.value?e+"cityId[id]=".concat(l.value,"&"):e+"";case"category":return l.value?e+"categoryId[id]=".concat(l.value,"&"):e+"";case"period":var r;return null!==l&&void 0!==l&&null!==(n=l.value)&&void 0!==n&&n.value?e+"createdAt[$gt]=".concat(null===l||void 0===l||null===(r=l.value)||void 0===r?void 0:r.value,"&"):e+"";case"nameCar":return l.value?e+"name=".concat(l.value,"&"):e+"";case"car":return l.value?e+"carId[id]=".concat(l.value,"&"):e+"";case"orderStatus":return l.value?e+"orderStatusId[id]=".concat(l.value,"&"):e+"";case"priceMin":return l.value?e+"priceMin".concat(l.value,"&"):e+"";case"rateType":return l.value?e+"rateTypeId[id]=".concat(l.value):e+"";default:return l.value?e+"".concat(l.name,"=").concat(l.value,"&"):e+""}}),"?")}},5369:function(e,l,n){n.d(l,{_:function(){return r}});var r=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):null}},9538:function(e,l,n){e.exports=n.p+"static/media/noFoto.204ef07232dc7deae70c.jpg"}}]);
//# sourceMappingURL=139.8ee09b65.chunk.js.map