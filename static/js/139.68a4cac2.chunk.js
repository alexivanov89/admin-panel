"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[139],{7154:function(e,n,l){l.d(n,{E:function(){return c}});var r=l(1413),i=l(9439),a=l(5987),t=l(2791),o=l(184),d=["fallback","src","alt"],c=function(e){var n=e.fallback,l=e.src,c=e.alt,s=(0,a.Z)(e,d),u=(0,t.useState)(l),v=(0,i.Z)(u,2),h=v[0],m=v[1];(0,t.useEffect)((function(){m(l)}),[l]);return(0,o.jsx)("img",(0,r.Z)({src:h||n,alt:c,onError:function(){return m(n)}},s))}},2139:function(e,n,l){l.r(n),l.d(n,{default:function(){return P}});var r=l(1413),i=l(4942),a=l(5987),t=l(9439),o=l(2791),d=l(6030),c=l(9271),s=l(1694),u=l.n(s),v=l(8181),h=l(5485),m=l(7309),x=l(3734),f=l(6038),p=l(3695),j=l(4564),_=l(6106),y=l(570),Z=l(914),g=l(3099),I=l(3465),C=l(2784),w=l(8168),O=l(7154),N=l(9538),b=l(2311),S=l(5369),k=l(6623),T={title:"Orders_title__KZnAn",card:"Orders_card__Tua8Q",table:"Orders_table__FhFSq",carImage:"Orders_carImage__Z9aAh",carName:"Orders_carName__6qlsx",city:"Orders_city__ApXE-",color:"Orders_color__5D+8J",pointAddress:"Orders_pointAddress__x3BHD",info:"Orders_info__1TSsf",dates:"Orders_dates__15UkH",price:"Orders_price__5Anw-",orderActions:"Orders_orderActions__Lf1ya",apply:"Orders_apply__VcYJy",delete:"Orders_delete__LM0kF",change:"Orders_change__sSAl9",orderOptions:"Orders_orderOptions__Mgh5T",label:"Orders_label__wzZ9h",active:"Orders_active__juWOH",select:"Orders_select__t7UAa",filterBtn:"Orders_filterBtn__y7v68"},A=l(184),F=["name","id"],L=["name","id"],P=function(){var e=h.Z.Title,n=h.Z.Text,l=m.Z.Group,s=x.Z.Option,P=(0,d.I0)(),B=(0,d.v9)((function(e){return e.table})),M=B.order,D=B.city.cities,E=B.car.cars,R=B.orderStatus.values,z=M.orders,K=M.loading,H=(0,o.useState)(1),W=(0,t.Z)(H,2),q=W[0],J=W[1],X=(0,c.$B)().url,Y=(0,c.k6)(),U=(new Date).getTime()-864e5,V=(new Date).getTime()-6048e5,$=(new Date).getTime()-2592e6,G=(new Date).getTime()-31536e6,Q=D,ee=Array.from(new Set(E.filter((function(e){var n=e.name;e.id,(0,a.Z)(e,F);return Boolean(n)})).map((function(e){var n=e.name,l=e.id;(0,a.Z)(e,L);return{name:n,id:l}})))),ne=R,le=[{name:["period"],value:{label:"\u0417\u0430 \u0434\u0435\u043d\u044c",value:U}},{name:["car"],value:null},{name:["city"],value:null},{name:["orderStatus"],value:null}],re=(0,o.useState)(le),ie=(0,t.Z)(re,2),ae=ie[0],te=ie[1],oe=z.map((function(e){var n,l=e.carId,r=e.cityId,i=e.color,a=e.dateFrom,t=e.dateTo,o=e.price,d=e.isFullTank,c=e.isNeedChildChair,s=e.isRightWheel;return{key:e.id,carImg:{src:l?null===l||void 0===l||null===(n=l.thumbnail)||void 0===n?void 0:n.path:null,name:l?null===l||void 0===l?void 0:l.name:null},orderInfo:{carId:l,cityId:r,dateFrom:a?(0,v.Z)(new Date(a),"dd.MM.yyyy k:mm"):null,dateTo:t?(0,v.Z)(new Date(t),"dd.MM.yyyy k:mm"):null,color:i},orderOptions:{isFullTank:d,isRightWheel:s,isNeedChildChair:c},price:o,orderActions:{apply:"\u0433\u043e\u0442\u043e\u0432\u043e",delete:"\u043e\u0442\u043c\u0435\u043d\u0430",change:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c",order:e}}})),de=[{title:"Car",dataIndex:"carImg",key:"carImg",render:function(e){return(0,A.jsx)("div",{className:T.carImage,children:(0,A.jsx)(O.E,{src:e.src,alt:e.name,fallback:N,loading:"lazy"})})}},{title:"Order Info",dataIndex:"orderInfo",key:"orderInfo",render:function(e){var l,r,i;return(0,A.jsxs)("div",{className:T.orderInfo,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(n,{className:T.carName,children:null!==e&&void 0!==e&&e.carId?"".concat(null===e||void 0===e||null===(l=e.carId)||void 0===l?void 0:l.name):null}),(0,A.jsx)(n,{className:T.info,children:" \u0432 "}),(0,A.jsx)(n,{className:T.city,children:null!==e&&void 0!==e&&e.cityId?"".concat(null===e||void 0===e||null===(r=e.cityId)||void 0===r?void 0:r.name,", "):null}),(0,A.jsx)(n,{className:T.pointAddress,children:null!==e&&void 0!==e&&e.pointId?"".concat(null===e||void 0===e||null===(i=e.pointId)||void 0===i?void 0:i.address):null})]}),(0,A.jsx)(n,{className:T.dates,children:null!==e&&void 0!==e&&e.dateFrom?"".concat(null===e||void 0===e?void 0:e.dateFrom," "):null}),(0,A.jsx)(n,{className:T.info,children:"\u2014"}),(0,A.jsx)(n,{className:T.dates,children:null!==e&&void 0!==e&&e.dateTo?" ".concat(null===e||void 0===e?void 0:e.dateTo):null}),(0,A.jsxs)("div",{children:[(0,A.jsx)(n,{className:T.info,children:"\u0426\u0432\u0435\u0442: "}),(0,A.jsx)(n,{className:T.color,children:null!==e&&void 0!==e&&e.color?"".concat(null===e||void 0===e?void 0:e.color):null})]})]})}},{title:"Order Options",dataIndex:"orderOptions",key:"orderOptions",render:function(e){return(0,A.jsxs)("div",{className:T.orderOptions,children:[(0,A.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isFullTank?(0,A.jsx)(C.tj,{}):(0,A.jsx)(C.ms,{}),(0,A.jsx)(n,{className:u()(T.label,(0,i.Z)({},T.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"})]}),(0,A.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isNeedChildChair?(0,A.jsx)(C.tj,{}):(0,A.jsx)(C.ms,{}),(0,A.jsx)(n,{className:u()(T.label,(0,i.Z)({},T.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"})]}),(0,A.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isRightWheel?(0,A.jsx)(C.tj,{}):(0,A.jsx)(C.ms,{}),(0,A.jsx)(n,{className:u()(T.label,(0,i.Z)({},T.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"})]})]})}},{title:"Price",dataIndex:"price",key:"price",render:function(e){return(0,A.jsx)("div",{className:T.price,children:"".concat((0,S._)(e)," \u20bd")})}},{title:"Order Actions",dataIndex:"orderActions",key:"orderActions",render:function(e){return(0,A.jsx)("div",{className:T.orderActions,children:(0,A.jsxs)(l,{children:[(0,A.jsx)(f.Z,{placement:"topRight",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?",onConfirm:function(){var n;b.o.putOrderById(null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.id,(0,r.Z)((0,r.Z)({},null===e||void 0===e?void 0:e.order),{},{orderStatusId:R.find((function(e){return"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0435"===e.name}))})).then((function(){p.ZP.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d.")})).catch((function(){return p.ZP.error("\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445  \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.")}))},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,A.jsx)(m.Z,{icon:(0,A.jsx)(C.bJ,{}),className:T.apply,children:null===e||void 0===e?void 0:e.apply})}),(0,A.jsx)(f.Z,{placement:"topRight",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?",onConfirm:function(){var n;b.o.putOrderById(null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.id,(0,r.Z)((0,r.Z)({},null===e||void 0===e?void 0:e.order),{},{orderStatusId:R.find((function(e){return"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u043d\u044b\u0435"===e.name}))})).then((function(){p.ZP.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0451\u043d.")})).catch((function(){return p.ZP.error("\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445  \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.")}))},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,A.jsx)(m.Z,{icon:(0,A.jsx)(C.Tw,{}),className:T.delete,children:null===e||void 0===e?void 0:e.delete})}),(0,A.jsx)(f.Z,{placement:"topRight",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?",onConfirm:function(){var n;Y.push({pathname:"".concat(X,"/").concat(null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.id),state:{order:null===e||void 0===e?void 0:e.order}})},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,A.jsx)(m.Z,{icon:(0,A.jsx)(C.dY,{}),className:T.change,children:null===e||void 0===e?void 0:e.change})})]})})}}];(0,o.useEffect)((function(){P((0,w.X6)((0,k.j)(ae)))}),[]),(0,o.useEffect)((function(){P((0,w.LC)()),P((0,w.jo)()),P((0,w.LS)())}),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(e,{className:T.title,children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),(0,A.jsx)(j.Z,{title:(0,A.jsx)(_.Z,{children:(0,A.jsxs)(y.Z,{name:"filters",layout:"inline",style:{width:"100%"},fields:ae,onFieldsChange:function(e,n){te(n)},requiredMark:"optional",onFinish:function(){P((0,w.X6)((0,k.j)(ae)))},children:[(0,A.jsx)(Z.Z,{xs:18,sm:20,children:(0,A.jsxs)(g.Z,{size:[15,15],wrap:!0,style:{width:"100%"},children:[(0,A.jsx)(y.Z.Item,{name:"period",style:{margin:"0px 0px 0px 2px"},children:(0,A.jsxs)(x.Z,{showSearch:!0,placeholder:"\u041f\u0435\u0440\u0438\u043e\u0434",optionFilterProp:"children",filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(C.K,{}),className:T.select,optionLabelProp:"label",labelInValue:!0,allowClear:!0,children:[(0,A.jsx)(s,{value:U,label:"\u0417\u0430 \u0434\u0435\u043d\u044c",children:"\u0417\u0430 \u0434\u0435\u043d\u044c"}),(0,A.jsx)(s,{value:V,label:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",children:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"}),(0,A.jsx)(s,{value:$,label:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446",children:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446"}),(0,A.jsx)(s,{value:G,label:"\u0417\u0430 \u0433\u043e\u0434",children:"\u0417\u0430 \u0433\u043e\u0434"}),(0,A.jsx)(s,{value:null,label:"\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f",children:"\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f"})]})}),(0,A.jsx)(y.Z.Item,{name:"car",style:{margin:0},children:(0,A.jsx)(x.Z,{showSearch:!0,placeholder:"\u0410\u0432\u0442\u043e",optionFilterProp:"children",filterOption:function(e,n){return n.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(C.K,{}),className:T.select,allowClear:!0,children:(null===ee||void 0===ee?void 0:ee.length)>0&&ee.map((function(e){return(0,A.jsx)(s,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}),(0,A.jsx)(y.Z.Item,{name:"city",style:{margin:0},children:(0,A.jsx)(x.Z,{showSearch:!0,placeholder:"\u0413\u043e\u0440\u043e\u0434",optionFilterProp:"children",filterOption:function(e,n){return n.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(C.K,{}),className:T.select,allowClear:!0,children:(null===Q||void 0===Q?void 0:Q.length)>0&&Q.map((function(e){return(0,A.jsx)(s,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}),(0,A.jsx)(y.Z.Item,{name:"orderStatus",style:{margin:0},children:(0,A.jsx)(x.Z,{showSearch:!0,placeholder:"\u0421\u0442\u0430\u0442\u0443\u0441",optionFilterProp:"children",filterOption:function(e,n){return n.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(C.K,{}),className:T.select,allowClear:!0,children:(null===ne||void 0===ne?void 0:ne.length)>0&&ne.map((function(e){return(0,A.jsx)(s,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})})]})}),(0,A.jsx)(Z.Z,{xs:6,sm:4,style:{display:"flex",justifyContent:"flex-end"},children:(0,A.jsx)(y.Z.Item,{children:(0,A.jsx)(m.Z,{type:"primary",htmlType:"submit",className:T.filterBtn,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})})]})}),bordered:!1,className:T.card,bodyStyle:{padding:"1px 0px 0px"},children:(0,A.jsx)(I.Z,{showHeader:!1,columns:de,dataSource:oe,pagination:{position:["bottomCenter"],current:q,pageSize:1,showSizeChanger:!1,onChange:function(e){J(e)},itemRender:function(e,n,l){return"prev"===n?(0,A.jsx)(m.Z,{icon:(0,A.jsx)(C.gY,{})}):"next"===n?(0,A.jsx)(m.Z,{icon:(0,A.jsx)(C.Ne,{})}):l}},loading:K,scroll:{x:980},className:T.table})})]})}},6623:function(e,n,l){l.d(n,{j:function(){return r}});var r=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var l;switch(n.name[0]){case"tank":return n.value?e+"tank".concat(n.value,"&"):e+"";case"city":return n.value?e+"cityId[id]=".concat(n.value,"&"):e+"";case"category":return n.value?e+"categoryId[id]=".concat(n.value,"&"):e+"";case"period":var r;return null!==n&&void 0!==n&&null!==(l=n.value)&&void 0!==l&&l.value?e+"createdAt[$gt]=".concat(null===n||void 0===n||null===(r=n.value)||void 0===r?void 0:r.value,"&"):e+"";case"nameCar":return n.value?e+"name=".concat(n.value,"&"):e+"";case"car":return n.value?e+"carId[id]=".concat(n.value,"&"):e+"";case"orderStatus":return n.value?e+"orderStatusId[id]=".concat(n.value,"&"):e+"";case"priceMin":return n.value?e+"priceMin".concat(n.value,"&"):e+"";case"rateType":return n.value?e+"rateTypeId[id]=".concat(n.value):e+"";default:return n.value?e+"".concat(n.name,"=").concat(n.value,"&"):e+""}}),"?")}},5369:function(e,n,l){l.d(n,{_:function(){return r}});var r=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):null}},9538:function(e,n,l){e.exports=l.p+"static/media/noFoto.204ef07232dc7deae70c.jpg"}}]);
//# sourceMappingURL=139.68a4cac2.chunk.js.map