"use strict";(self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[]).push([[139],{7154:function(e,n,l){l.d(n,{E:function(){return c}});var r=l(1413),i=l(9439),a=l(5987),t=l(2791),o=l(184),d=["fallback","src","alt"],c=function(e){var n=e.fallback,l=e.src,c=e.alt,s=(0,a.Z)(e,d),u=(0,t.useState)(l),v=(0,i.Z)(u,2),h=v[0],m=v[1];(0,t.useEffect)((function(){m(l)}),[l]);return(0,o.jsx)("img",(0,r.Z)({src:h||n,alt:c,onError:function(){return m(n)}},s))}},2139:function(e,n,l){l.r(n),l.d(n,{default:function(){return P}});var r=l(1413),i=l(4942),a=l(5987),t=l(9439),o=l(2791),d=l(6030),c=l(5485),s=l(7309),u=l(3734),v=l(6038),h=l(3695),m=l(4564),x=l(6106),f=l(570),p=l(914),j=l(3099),_=l(3465),y=l(2784),Z=l(8168),g=l(7154),I=l(9538),C=l(8181),w=l(1694),O=l.n(w),N=l(5369),b=l(6623),S={title:"Orders_title__KZnAn",card:"Orders_card__Tua8Q",table:"Orders_table__FhFSq",carImage:"Orders_carImage__Z9aAh",carName:"Orders_carName__6qlsx",city:"Orders_city__ApXE-",color:"Orders_color__5D+8J",pointAddress:"Orders_pointAddress__x3BHD",info:"Orders_info__1TSsf",dates:"Orders_dates__15UkH",price:"Orders_price__5Anw-",orderActions:"Orders_orderActions__Lf1ya",apply:"Orders_apply__VcYJy",delete:"Orders_delete__LM0kF",change:"Orders_change__sSAl9",orderOptions:"Orders_orderOptions__Mgh5T",label:"Orders_label__wzZ9h",active:"Orders_active__juWOH",select:"Orders_select__t7UAa",filterBtn:"Orders_filterBtn__y7v68"},k=l(2311),T=l(9271),A=l(184),F=["name","id"],L=["name","id"],P=function(){var e=c.Z.Title,n=c.Z.Text,l=s.Z.Group,w=u.Z.Option,P=(0,d.I0)(),B=(0,d.v9)((function(e){return e.table})),M=B.order,D=B.city.cities,E=B.car.cars,R=B.orderStatus.values,z=M.orders,K=M.loading,H=(0,o.useState)(1),W=(0,t.Z)(H,2),q=W[0],J=W[1],X=(0,T.$B)().url,Y=(0,T.k6)(),U={name:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u043d\u044b\u0435",id:"5e26a1f0099b810b946c5d8b"},V={name:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d\u044b\u0435",id:"5e26a1f5099b810b946c5d8c"},$=(new Date).getTime()-864e5,G=(new Date).getTime()-6048e5,Q=(new Date).getTime()-2592e6,ee=(new Date).getTime()-31536e6,ne=D,le=Array.from(new Set(E.filter((function(e){var n=e.name;e.id,(0,a.Z)(e,F);return Boolean(n)})).map((function(e){var n=e.name,l=e.id;(0,a.Z)(e,L);return{name:n,id:l}})))),re=R,ie=[{name:["period"],value:{label:"\u0417\u0430 \u0434\u0435\u043d\u044c",value:$}},{name:["car"],value:null},{name:["city"],value:null},{name:["orderStatus"],value:null}],ae=(0,o.useState)(ie),te=(0,t.Z)(ae,2),oe=te[0],de=te[1],ce=z.map((function(e){var n,l=e.carId,r=e.cityId,i=e.color,a=e.dateFrom,t=e.dateTo,o=e.price,d=e.isFullTank,c=e.isNeedChildChair,s=e.isRightWheel;return{key:e.id,carImg:{src:l?null===l||void 0===l||null===(n=l.thumbnail)||void 0===n?void 0:n.path:null,name:l?null===l||void 0===l?void 0:l.name:null},orderInfo:{carId:l,cityId:r,dateFrom:a?(0,C.Z)(new Date(a),"dd.MM.yyyy k:mm"):null,dateTo:t?(0,C.Z)(new Date(t),"dd.MM.yyyy k:mm"):null,color:i},orderOptions:{isFullTank:d,isRightWheel:s,isNeedChildChair:c},price:o,orderActions:{apply:"\u0433\u043e\u0442\u043e\u0432\u043e",delete:"\u043e\u0442\u043c\u0435\u043d\u0430",change:"\u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c",order:e}}})),se=[{title:"Car",dataIndex:"carImg",key:"carImg",render:function(e){return(0,A.jsx)("div",{className:S.carImage,children:(0,A.jsx)(g.E,{src:e.src,alt:e.name,fallback:I,loading:"lazy"})})}},{title:"Order Info",dataIndex:"orderInfo",key:"orderInfo",render:function(e){var l,r,i;return(0,A.jsxs)("div",{className:S.orderInfo,children:[(0,A.jsxs)("div",{children:[(0,A.jsx)(n,{className:S.carName,children:null!==e&&void 0!==e&&e.carId?"".concat(null===e||void 0===e||null===(l=e.carId)||void 0===l?void 0:l.name):null}),(0,A.jsx)(n,{className:S.info,children:" \u0432 "}),(0,A.jsx)(n,{className:S.city,children:null!==e&&void 0!==e&&e.cityId?"".concat(null===e||void 0===e||null===(r=e.cityId)||void 0===r?void 0:r.name,", "):null}),(0,A.jsx)(n,{className:S.pointAddress,children:null!==e&&void 0!==e&&e.pointId?"".concat(null===e||void 0===e||null===(i=e.pointId)||void 0===i?void 0:i.address):null})]}),(0,A.jsx)(n,{className:S.dates,children:null!==e&&void 0!==e&&e.dateFrom?"".concat(null===e||void 0===e?void 0:e.dateFrom," "):null}),(0,A.jsx)(n,{className:S.info,children:"\u2014"}),(0,A.jsx)(n,{className:S.dates,children:null!==e&&void 0!==e&&e.dateTo?" ".concat(null===e||void 0===e?void 0:e.dateTo):null}),(0,A.jsxs)("div",{children:[(0,A.jsx)(n,{className:S.info,children:"\u0426\u0432\u0435\u0442: "}),(0,A.jsx)(n,{className:S.color,children:null!==e&&void 0!==e&&e.color?"".concat(null===e||void 0===e?void 0:e.color):null})]})]})}},{title:"Order Options",dataIndex:"orderOptions",key:"orderOptions",render:function(e){return(0,A.jsxs)("div",{className:S.orderOptions,children:[(0,A.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isFullTank?(0,A.jsx)(y.tj,{}):(0,A.jsx)(y.ms,{}),(0,A.jsx)(n,{className:O()(S.label,(0,i.Z)({},S.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u041f\u043e\u043b\u043d\u044b\u0439 \u0431\u0430\u043a"})]}),(0,A.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isNeedChildChair?(0,A.jsx)(y.tj,{}):(0,A.jsx)(y.ms,{}),(0,A.jsx)(n,{className:O()(S.label,(0,i.Z)({},S.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u0414\u0435\u0442\u0441\u043a\u043e\u0435 \u043a\u0440\u0435\u0441\u043b\u043e"})]}),(0,A.jsxs)("div",{style:{display:"flex",textAlign:"center"},children:[null!==e&&void 0!==e&&e.isRightWheel?(0,A.jsx)(y.tj,{}):(0,A.jsx)(y.ms,{}),(0,A.jsx)(n,{className:O()(S.label,(0,i.Z)({},S.active,null===e||void 0===e?void 0:e.isFullTank)),children:"\u041f\u0440\u0430\u0432\u044b\u0439 \u0440\u0443\u043b\u044c"})]})]})}},{title:"Price",dataIndex:"price",key:"price",render:function(e){return(0,A.jsx)("div",{className:S.price,children:"".concat((0,N._)(e)," \u20bd")})}},{title:"Order Actions",dataIndex:"orderActions",key:"orderActions",render:function(e){return(0,A.jsx)("div",{className:S.orderActions,children:(0,A.jsxs)(l,{children:[(0,A.jsx)(v.Z,{placement:"topRight",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?",onConfirm:function(){var n;k.o.putOrderById(null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.id,(0,r.Z)((0,r.Z)({},null===e||void 0===e?void 0:e.order),{},{orderStatusId:U})).then((function(){h.ZP.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0451\u043d.")})).catch((function(){return h.ZP.error("\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445  \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.")}))},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,A.jsx)(s.Z,{icon:(0,A.jsx)(y.bJ,{}),className:S.apply,children:null===e||void 0===e?void 0:e.apply})}),(0,A.jsx)(v.Z,{placement:"topRight",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?",onConfirm:function(){var n;k.o.putOrderById(null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.id,(0,r.Z)((0,r.Z)({},null===e||void 0===e?void 0:e.order),{},{orderStatusId:V})).then((function(){h.ZP.success("\u0417\u0430\u043a\u0430\u0437 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043c\u0435\u043d\u0451\u043d.")})).catch((function(){return h.ZP.error("\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445  \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.")}))},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,A.jsx)(s.Z,{icon:(0,A.jsx)(y.Tw,{}),className:S.delete,children:null===e||void 0===e?void 0:e.delete})}),(0,A.jsx)(v.Z,{placement:"topRight",title:"\u0423\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437?",onConfirm:function(){var n;Y.push({pathname:"".concat(X,"/").concat(null===e||void 0===e||null===(n=e.order)||void 0===n?void 0:n.id),state:{order:null===e||void 0===e?void 0:e.order}})},cancelText:"\u041e\u0442\u043c\u0435\u043d\u0430",children:(0,A.jsx)(s.Z,{icon:(0,A.jsx)(y.dY,{}),className:S.change,children:null===e||void 0===e?void 0:e.change})})]})})}}];(0,o.useEffect)((function(){P((0,Z.X6)((0,b.j)(oe)))}),[]),(0,o.useEffect)((function(){P((0,Z.LC)()),P((0,Z.jo)()),P((0,Z.LS)())}),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(e,{className:S.title,children:"\u0417\u0430\u043a\u0430\u0437\u044b"}),(0,A.jsx)(m.Z,{title:(0,A.jsx)(x.Z,{children:(0,A.jsxs)(f.Z,{name:"filters",layout:"inline",style:{width:"100%"},fields:oe,onFieldsChange:function(e,n){de(n)},requiredMark:"optional",onFinish:function(e){P((0,Z.X6)((0,b.j)(oe)))},children:[(0,A.jsx)(p.Z,{xs:18,sm:20,children:(0,A.jsxs)(j.Z,{size:[15,15],wrap:!0,style:{width:"100%"},children:[(0,A.jsx)(f.Z.Item,{name:"period",style:{margin:"0px 0px 0px 2px"},children:(0,A.jsxs)(u.Z,{showSearch:!0,placeholder:"\u041f\u0435\u0440\u0438\u043e\u0434",optionFilterProp:"children",filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(y.K,{}),className:S.select,optionLabelProp:"label",labelInValue:!0,allowClear:!0,children:[(0,A.jsx)(w,{value:$,label:"\u0417\u0430 \u0434\u0435\u043d\u044c",children:"\u0417\u0430 \u0434\u0435\u043d\u044c"}),(0,A.jsx)(w,{value:G,label:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e",children:"\u0417\u0430 \u043d\u0435\u0434\u0435\u043b\u044e"}),(0,A.jsx)(w,{value:Q,label:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446",children:"\u0417\u0430 \u043c\u0435\u0441\u044f\u0446"}),(0,A.jsx)(w,{value:ee,label:"\u0417\u0430 \u0433\u043e\u0434",children:"\u0417\u0430 \u0433\u043e\u0434"}),(0,A.jsx)(w,{value:null,label:"\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f",children:"\u0417\u0430 \u0432\u0441\u0451 \u0432\u0440\u0435\u043c\u044f"})]})}),(0,A.jsx)(f.Z.Item,{name:"car",style:{margin:0},children:(0,A.jsx)(u.Z,{showSearch:!0,placeholder:"\u0410\u0432\u0442\u043e",optionFilterProp:"children",filterOption:function(e,n){return n.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(y.K,{}),className:S.select,allowClear:!0,children:(null===le||void 0===le?void 0:le.length)>0&&le.map((function(e){return(0,A.jsx)(w,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}),(0,A.jsx)(f.Z.Item,{name:"city",style:{margin:0},children:(0,A.jsx)(u.Z,{showSearch:!0,placeholder:"\u0413\u043e\u0440\u043e\u0434",optionFilterProp:"children",filterOption:function(e,n){return n.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(y.K,{}),className:S.select,allowClear:!0,children:(null===ne||void 0===ne?void 0:ne.length)>0&&ne.map((function(e){return(0,A.jsx)(w,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})}),(0,A.jsx)(f.Z.Item,{name:"orderStatus",style:{margin:0},children:(0,A.jsx)(u.Z,{showSearch:!0,placeholder:"\u0421\u0442\u0430\u0442\u0443\u0441",optionFilterProp:"children",filterOption:function(e,n){return n.children.toLowerCase().indexOf(e.toLowerCase())>=0},filterSort:function(e,n){return e.children.toLowerCase().localeCompare(n.children.toLowerCase())},suffixIcon:(0,A.jsx)(y.K,{}),className:S.select,allowClear:!0,children:(null===re||void 0===re?void 0:re.length)>0&&re.map((function(e){return(0,A.jsx)(w,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},null===e||void 0===e?void 0:e.id)}))})})]})}),(0,A.jsx)(p.Z,{xs:6,sm:4,style:{display:"flex",justifyContent:"flex-end"},children:(0,A.jsx)(f.Z.Item,{children:(0,A.jsx)(s.Z,{type:"primary",htmlType:"submit",className:S.filterBtn,children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})})})]})}),bordered:!1,className:S.card,bodyStyle:{padding:"1px 0px 0px"},children:(0,A.jsx)(_.Z,{showHeader:!1,columns:se,dataSource:ce,pagination:{position:["bottomCenter"],current:q,pageSize:1,showSizeChanger:!1,onChange:function(e){J(e)},itemRender:function(e,n,l){return"prev"===n?(0,A.jsx)(s.Z,{icon:(0,A.jsx)(y.gY,{})}):"next"===n?(0,A.jsx)(s.Z,{icon:(0,A.jsx)(y.Ne,{})}):l}},loading:K,scroll:{x:980},className:S.table})})]})}},6623:function(e,n,l){l.d(n,{j:function(){return r}});var r=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var l;switch(n.name[0]){case"tank":return n.value?e+"tank".concat(n.value,"&"):e+"";case"city":return n.value?e+"cityId[id]=".concat(n.value,"&"):e+"";case"category":return n.value?e+"categoryId[id]=".concat(n.value,"&"):e+"";case"period":var r;return null!==n&&void 0!==n&&null!==(l=n.value)&&void 0!==l&&l.value?e+"createdAt[$gt]=".concat(null===n||void 0===n||null===(r=n.value)||void 0===r?void 0:r.value,"&"):e+"";case"nameCar":return n.value?e+"name=".concat(n.value,"&"):e+"";case"car":return n.value?e+"carId[id]=".concat(n.value,"&"):e+"";case"orderStatus":return n.value?e+"orderStatusId[id]=".concat(n.value,"&"):e+"";case"priceMin":return n.value?e+"priceMin".concat(n.value,"&"):e+"";case"rateType":return n.value?e+"rateTypeId[id]=".concat(n.value):e+"";default:return n.value?e+"".concat(n.name,"=").concat(n.value,"&"):e+""}}),"?")}},5369:function(e,n,l){l.d(n,{_:function(){return r}});var r=function(e){return e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):null}},9538:function(e,n,l){e.exports=l.p+"static/media/noFoto.204ef07232dc7deae70c.jpg"}}]);
//# sourceMappingURL=139.981b43bb.chunk.js.map